<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Arif & Ajeng: The Reunion</title>
    <meta name="description" content="Labirin isometrik ‚Äî gerakkan satu arah untuk membawa Arif & Ajeng bertemu!">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&display=swap" rel="stylesheet">
    <!-- Three.js r128 global (no ES module / no CORS issue) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- GLTFLoader for loading .glb character models -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
</head>

<body>

    <!-- 3D Canvas -->
    <div id="game-container"></div>

    <!-- UI -->
    <div id="ui-layer">

        <!-- ‚îÄ‚îÄ Start Screen ‚îÄ‚îÄ -->
        <div id="start-screen" class="overlay">
            <div class="hud-container">
                <div class="hud-frame left"></div>
                <div class="hud-frame right"></div>

                <div class="main-menu-content">
                    <div class="glitch-title" data-text="ARIF & AJENG">ARIF & AJENG</div>
                    <div class="sub-title">COSMIC REUNION PROTOCOL</div>

                    <div class="menu-actions">
                        <button id="start-button" class="btn-hud main">
                            <span class="btn-glitch"></span>
                            INITIATE MISSION
                        </button>
                    </div>

                    <div class="controls-grid">
                        <div class="ctrl-box arif">
                            <span class="label">UNIT: ARIF</span>
                            <div class="keys">WASD / ARROWS</div>
                        </div>
                        <div class="ctrl-box sync">
                            <div class="sync-icon">‚ö°</div>
                            <span class="unit-desc">SYNC MOVEMENT ACTIVE</span>
                        </div>
                        <div class="ctrl-box ajeng">
                            <span class="label">UNIT: AJENG</span>
                            <div class="keys">WASD / ARROWS</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ Win Screen ‚îÄ‚îÄ -->
        <div id="win-screen" class="overlay hidden">
            <div class="glass-card win-card">
                <div class="win-emoji"> üíû</div>
                <h1 class="win-title">Bersatu Kembali!</h1>
                <p>Cinta Arif &amp; Ajeng melampaui segala rintangan labirin.</p>
                <div class="win-stats">
                    <div class="stat-item"><span>‚è±</span><strong id="win-time">00:00</strong></div>
                </div>
                <button id="restart-button" class="btn-secondary">Main Lagi üîÑ</button>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ HUD ‚îÄ‚îÄ -->
        <div id="hud">
            <div id="timer-box"><span>‚è±</span><span id="timer">00:00</span></div>
            <div id="love-meter">
                <div class="love-label">
                    <span class="blue-dot">üîµ</span>
                    <span id="dist-label">- sel</span>
                    <span class="pink-dot">üî¥</span>
                </div>
                <div id="love-bar">
                    <div id="love-bar-fill"></div><span class="heart-tip">‚ù§Ô∏è</span>
                </div>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ Minimap ‚îÄ‚îÄ -->
        <canvas id="minimap" width="150" height="150"></canvas>

        <!-- ‚îÄ‚îÄ Analog Joystick (mobile) ‚îÄ‚îÄ -->
        <div id="mobile-controls" class="hidden">
            <div id="joystick-base">
                <div id="joystick-ring"></div>
                <div id="joystick-knob">
                    <span class="knob-icon">‚ù§Ô∏è</span>
                </div>
                <!-- Direction hints -->
                <span class="joy-hint joy-up">‚ñ≤</span>
                <span class="joy-hint joy-dn">‚ñº</span>
                <span class="joy-hint joy-lt">‚óÄ</span>
                <span class="joy-hint joy-rt">‚ñ∂</span>
            </div>
            <div class="joystick-label">Geser untuk bergerak</div>
        </div>

    </div>

    <audio id="bg-music" loop preload="none">
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script src="game.js"></script>
</body>

</html>